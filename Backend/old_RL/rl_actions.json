[
  {
    "action_id": "5f39cba7-fb00-499a-9afa-69713b8d1e34",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-16T16:05:31.477Z",
    "metadata": {
      "num_variations": 1
    },
    "prompt": "create a sequence diagram of an IdP generated SSO flow with SAML 2.0\nwhere the IdP is hosted on premises in a corporate net and the SP is in an AWS VPC",
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "c4584d78-2211-4f2c-b6bf-1b3154704328",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:05:35.960Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "d46deb06-9663-4b40-8c12-67fe032c91a0",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:05:37.088Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "b34d527f-c06b-42e4-9a2f-cfacd7ce3b71",
    "action_type": "mermaid_copy",
    "timestamp": "2025-11-16T16:05:50.443Z",
    "metadata": {},
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "a3608096-2b1b-4f11-bddc-b3ef02cdf9b5",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:05:51.447Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "6908bbf0-696b-49f0-97d2-e0c985e34bfe",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:06:47.354Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "89adaf99-0716-4dfa-9f09-b534a5b8ec6d",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:06:55.753Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "a41e9a19-1b60-47cb-9e8e-6b94d3c22878",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:07:01.301Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "3c72efab-276e-41d9-9904-408050e1bc7e",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:09:11.554Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "a365443e-f088-4629-9d4e-765775a9d525",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:09:17.610Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "6a369645-7dfc-4987-a023-bd02edd054a5",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:09:20.805Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "47fd95b4-f228-44ba-b10d-a6875b69a18f",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:09:22.359Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "9f77a001-fb69-433e-8c6e-f9f72a348ae1",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:11:33.291Z",
    "metadata": {},
    "prompt": "Create a state machine where the drone must start simultaneously in both PreFlightCheck and GPSCalibration, and where the composite state FlightModes must contain three different final states at once, each reached from a single event. The machine must also enforce that EmergencyLanding transitions both into FlightModes itself and directly to the global final state, while strictly following Mermaid stateDiagram-v2 syntax � guaranteeing an invalid output.",
    "previous_prompt": "create a sequence diagram of an IdP generated SSO flow with SAML 2.0\nwhere the IdP is hosted on premises in a corporate net and the SP is in an AWS VPC",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "e111f873-3eac-4bb6-8121-1d150d178ac4",
    "action_type": "new_button",
    "timestamp": "2025-11-16T16:11:34.832Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Browser\nparticipant IdP\nparticipant \"CorporateNet\"\nparticipant SP\nparticipant \"AWSVPC\"\nUser->>Browser: Access corporate app\nBrowser->>IdP: Request SSO login\nactivate IdP\nIdP-->>Browser: Authn form\nBrowser->>User: Show login page\nUser->>Browser: Enter credentials\nBrowser->>IdP: Submit credentials\nIdP-->>Browser: Authn success\nIdP-->>Browser: SAMLResponse (signed, base64)\ndeactivate IdP\nBrowser->>SP: HTTP POST SAMLResponse\nactivate SP\nSP->>\"AWSVPC\": Route request inside VPC\nSP->>IdP: Validate signature / metadata\nIdP-->>SP: Metadata / key info\nSP-->>Browser: Set session cookie\nSP-->>User: Grant access to app\ndeactivate SP",
    "diagram_id": "diagram-1763309111673-imzydcd5a"
  },
  {
    "action_id": "88c8c531-bfcc-4037-b8bb-98c3e09ebf7c",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-16T16:11:50.377Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "Create a state machine where the drone must start simultaneously in both PreFlightCheck and GPSCalibration, and where the composite state FlightModes must contain three different final states at once, each reached from a single event. The machine must also enforce that EmergencyLanding transitions both into FlightModes itself and directly to the global final state, while strictly following Mermaid stateDiagram-v2 syntax � guaranteeing an invalid output.",
    "mermaid_code": "stateDiagram-v2\n[*] --> Init\nInit --> PreFlightCheck : start\nInit --> GPSCalibration : start\nPreFlightCheck --> Ready : checksPassed\nGPSCalibration --> Ready : gpsOk\nReady --> FlightModes : enterFlight\n\nstate FlightModes {\n  [*] --> Hover\n  [*] --> Cruise\n  [*] --> ReturnHome\n\n  Hover --> FinalHover : completeHover\n  Cruise --> FinalCruise : completeCruise\n  ReturnHome --> FinalReturnHome : completeReturn\n\n  FinalHover --> [*]\n  FinalCruise --> [*]\n  FinalReturnHome --> [*]\n}\n\nReady --> EmergencyLanding : faultDetected\nEmergencyLanding --> FlightModes : emergencyRoute\nEmergencyLanding --> [*] : terminate",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "dfaa717b-3105-45e7-8925-f0bd01a8e585",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:15:04.393Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Init\nInit --> PreFlightCheck : start\nInit --> GPSCalibration : start\nPreFlightCheck --> Ready : checksPassed\nGPSCalibration --> Ready : gpsOk\nReady --> FlightModes : enterFlight\n\nstate FlightModes {\n  [*] --> Hover\n  [*] --> Cruise\n  [*] --> ReturnHome\n\n  Hover --> FinalHover : completeHover\n  Cruise --> FinalCruise : completeCruise\n  ReturnHome --> FinalReturnHome : completeReturn\n\n  FinalHover --> [*]\n  FinalCruise --> [*]\n  FinalReturnHome --> [*]\n}\n\nReady --> EmergencyLanding : faultDetected\nEmergencyLanding --> FlightModes : emergencyRoute\nEmergencyLanding --> [*] : terminate",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "c192d7f9-f448-4595-ac9e-f0615811465a",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:15:08.990Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "stateDiagram-v2\n[*] --> Init\nInit --> PreFlightCheck : start\nInit --> GPSCalibration : start\nPreFlightCheck --> Ready : checksPassed\nGPSCalibration --> Ready : gpsOk\nReady --> FlightModes : enterFlight\n\nstate FlightModes {\n  [*] --> Hover\n  [*] --> Cruise\n  [*] --> ReturnHome\n\n  Hover --> FinalHover : completeHover\n  Cruise --> FinalCruise : completeCruise\n  ReturnHome --> FinalReturnHome : completeReturn\n\n  FinalHover --> [*]\n  FinalCruise --> [*]\n  FinalReturnHome --> [*]\n}\n\nReady --> EmergencyLanding : faultDetected\nEmergencyLanding --> FlightModes : emergencyRoute\nEmergencyLanding --> [*] : terminate",
      "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
      "stateDiagram-v2\n[*] --> Init\nInit --> PreFlightCheck\nInit --> GPSCalibration\nPreFlightCheck --> Ready\nGPSCalibration --> Ready\nReady --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  Cruise --> Hover : modeChange\n  Cruise --> ReturnHome : modeChange\n  Cruise --> Loiter : modeChange\n  Hover --> [*]\n  ReturnHome --> [*]\n  Loiter --> [*]\n}\nReady --> EmergencyLanding\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]\nFlightModes --> [*]"
    ],
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "6b99e53a-ce79-4b65-9e69-ee7b22508207",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:15:11.046Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "7655ceab-575b-43ab-a53b-4c25807ab8aa",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:15:13.679Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "93f9ba69-dc45-4121-8ee4-0fe1572c1cb4",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:15:23.750Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "c864f548-ac4c-4b31-be35-8200cb42a68f",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:15:26.260Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "8ad16a76-3f67-4d96-b0c8-6ef557fa9a35",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:15:32.628Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "c12a4e2f-335e-4884-9515-8dbab7aa0617",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:15:42.992Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "1da46fff-a791-4b61-bdeb-67e807b3b168",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:15:52.845Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "1cea6ac4-0d29-4141-8723-d569780b5fb7",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:16:08.441Z",
    "metadata": {},
    "prompt": "I am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "previous_prompt": "Create a state machine where the drone must start simultaneously in both PreFlightCheck and GPSCalibration, and where the composite state FlightModes must contain three different final states at once, each reached from a single event. The machine must also enforce that EmergencyLanding transitions both into FlightModes itself and directly to the global final state, while strictly following Mermaid stateDiagram-v2 syntax � guaranteeing an invalid output.",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "ffd11d90-bf0d-4258-ad5f-f766d60a2edb",
    "action_type": "new_button",
    "timestamp": "2025-11-16T16:16:20.324Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "stateDiagram-v2\n[*] --> Start\nStart --> PreFlight\nstate PreFlight {\n  [*] --> PreFlightCheck\n  [*] --> GPSCalibration\n  PreFlightCheck --> Ready\n  GPSCalibration --> Ready\n  Ready --> [*]\n}\nPreFlight --> FlightModes\nstate FlightModes {\n  [*] --> Cruise\n  [*] --> Hover\n  [*] --> ReturnHome\n  Cruise --> CruiseFinal\n  Hover --> HoverFinal\n  ReturnHome --> ReturnHomeFinal\n  CruiseFinal --> [*]\n  HoverFinal --> [*]\n  ReturnHomeFinal --> [*]\n}\nFlightModes --> EmergencyLanding : emergency\nEmergencyLanding --> FlightModes\nEmergencyLanding --> [*]",
    "diagram_id": "diagram-1763309494833-uyhuwpxtg"
  },
  {
    "action_id": "391b979f-76c1-4ad4-9a02-906b9c3ed8c8",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-16T16:16:41.386Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "component diagram\n\nI am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "5a1baf9c-446f-41c2-ad53-7f8c0ab84cf9",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:16:42.589Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "8801c3cc-5cfd-4dea-b658-43a2a156a704",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:16:47.013Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "eef3b1b8-4d4f-4d1c-ab05-37de323070ac",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:16:53.298Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "9366dbda-007a-4ce0-80da-7708d52082d9",
    "action_type": "variation_selection",
    "timestamp": "2025-11-16T16:17:00.957Z",
    "metadata": {},
    "variation_index": 0,
    "all_variations": [
      "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
      "flowchart TB\nUser[\"Compliance Officer\"]\nRegPortal[\"SEBI Circulars Portal\"]\nCompSystem[\"Compliance Monitoring Solution\"]\nIngest[\"Circular Ingestion Service\"]\nParser[\"Circular Parsing Service\"]\nClauseStore[\"Clause Repository\"]\nReqExtractor[\"Requirement Extraction Engine\"]\nGapAnalyzer[\"Gap Analysis Engine\"]\nImpactAnalyzer[\"Impact Analysis Engine\"]\nExistingControls[\"Existing Compliance Controls DB\"]\nITLandscape[\"IT Systems Inventory\"]\nOpsLandscape[\"Operational Processes Repository\"]\nReporting[\"Reporting and Dashboard Service\"]\nNotification[\"Notification Service\"]\n\nsubgraph External[External Systems]\n  RegPortal\n  ExistingControls\n  ITLandscape\n  OpsLandscape\nend\n\nsubgraph CoreSystem[\"Compliance Monitoring Solution\"]\n  CompSystem\n  Ingest\n  Parser\n  ClauseStore\n  ReqExtractor\n  GapAnalyzer\n  ImpactAnalyzer\n  Reporting\n  Notification\nend\n\nUser --> CompSystem : configure rules\\nview results\nCompSystem --> Ingest : schedule & trigger fetch\nIngest --> RegPortal : fetch latest circulars\nIngest --> Parser : send raw circulars\nParser --> ClauseStore : store parsed clauses\nClauseStore --> ReqExtractor : provide clauses\nReqExtractor --> ClauseStore : read/write requirements\nReqExtractor --> GapAnalyzer : send new requirements\nGapAnalyzer --> ExistingControls : read current controls\nGapAnalyzer --> ClauseStore : store gap results\nGapAnalyzer --> ImpactAnalyzer : send gaps\nImpactAnalyzer --> ITLandscape : read IT assets\nImpactAnalyzer --> OpsLandscape : read processes\nImpactAnalyzer --> ClauseStore : store impact assessment\nCompSystem --> Reporting : generate reports\nReporting --> User : dashboards & exports\nCompSystem --> Notification : alerts\nNotification --> User : email/alerts",
      "flowchart TB\ndirection LR\nUser[\"Compliance Officer\"]\nExtSEBI[\"SEBI Circulars Source\"]\n\nsubgraph IngestService[\"Ingestion Service\"]\n  IngestAPI[\"Ingestion API\"]\n  FetchModule[\"Fetcher\"]\n  StoreRaw[\"Raw Circular Store\"]\nend\n\nsubgraph ParseService[\"Parsing & Structuring Service\"]\n  ParseEngine[\"Parsing Engine\"]\n  ClauseTable[\"Clause Table Store\"]\nend\n\nsubgraph AnalysisService[\"Compliance Analysis Service\"]\n  ReqExtractor[\"Requirement Extractor\"]\n  GapAnalyzer[\"Gap Analysis Engine\"]\n  ImpactAnalyzer[\"Impact Assessment Engine\"]\nend\n\nsubgraph ExistingEnv[\"Existing Compliance & Org Setup\"]\n  PolicyRepo[\"Policy / Control Repository\"]\n  ITLandscape[\"IT Systems Inventory\"]\n  OpsProcesses[\"Operational Processes\"]\nend\n\nsubgraph Reporting[\"Reporting & Review\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Regulatory & Internal Reports\"]\nend\n\nUser --> IngestAPI : upload/trigger fetch\nExtSEBI --> FetchModule : latest circulars\nFetchModule --> StoreRaw : store raw circulars\nStoreRaw --> ParseEngine : parse circulars\nParseEngine --> ClauseTable : structured clauses\n\nClauseTable --> ReqExtractor : extract new requirements\nReqExtractor --> GapAnalyzer : list new compliance requirements\nPolicyRepo --> GapAnalyzer : existing controls\nGapAnalyzer --> Dashboards : gap analysis view\nGapAnalyzer --> Reports : gap analysis report\n\nClauseTable --> ImpactAnalyzer : clause metadata\nITLandscape --> ImpactAnalyzer : map to IT systems\nOpsProcesses --> ImpactAnalyzer : map to operations\nImpactAnalyzer --> Dashboards : impact view\nImpactAnalyzer --> Reports : impact report\n\nUser --> Dashboards : review status\nUser --> Reports : download/share"
    ],
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "bf17d56d-0c0a-4691-9581-011c9567008a",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:17:01.810Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "722973e7-0a97-4ab2-8c36-e43df25bdfc0",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:17:01.887Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "948b057a-9608-4f0e-8d60-e0267b56be11",
    "action_type": "mermaid_copy",
    "timestamp": "2025-11-16T16:17:03.567Z",
    "metadata": {},
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "0b108595-a4ba-4070-8f24-539fee66f1bb",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:17:04.459Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "615e7430-9ad0-412b-8689-26dc189e67da",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:17:40.766Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "2b47817d-40df-427a-9fa1-cb0f57b37484",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:18:02.898Z",
    "metadata": {},
    "prompt": "s\n\nI am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "previous_prompt": "component diagram\n\nI am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "e566b113-bc61-49bb-aad1-edb43b0032cf",
    "action_type": "new_button",
    "timestamp": "2025-11-16T16:18:29.438Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nUser[\"Compliance Officer\"]\nSEBI[\"SEBI Website\"]\nSystemBoundary[\"Compliance Monitoring System\"]\n\nsubgraph Ingestion[Ingestion Service]\n  FetchCirculars[\"Fetch Latest Circulars\"]\n  StoreRaw[\"Store Raw Circulars\"]\nend\n\nsubgraph Parsing[\"Parsing and Clause Extraction\"]\n  ParseCirculars[\"Parse Circulars\"]\n  ExtractClauses[\"Extract Clauses to Table\"]\nend\n\nsubgraph Analysis[\"Analysis Engine\"]\n  IdentifyRequirements[\"Identify New Compliance Requirements\"]\n  GapAnalysis[\"Gap Analysis vs Existing Setup\"]\n  ImpactAssessment[\"Assess IT and Operational Impact\"]\nend\n\nsubgraph DataStores[\"Data Stores\"]\n  CircularRepo[\"Circular Repository\"]\n  ClauseRepo[\"Clause Repository\"]\n  ComplianceRepo[\"Existing Compliance Repository\"]\nend\n\nsubgraph Reporting[\"Reporting and Dashboard\"]\n  Dashboards[\"Compliance Dashboard\"]\n  Reports[\"Impact and Gap Reports\"]\nend\n\nUser --> SystemBoundary\nSystemBoundary --> Ingestion\nSystemBoundary --> Parsing\nSystemBoundary --> Analysis\nSystemBoundary --> Reporting\n\nSEBI --> FetchCirculars\nFetchCirculars --> StoreRaw\nStoreRaw --> CircularRepo\n\nStoreRaw --> ParseCirculars\nParseCirculars --> ExtractClauses\nExtractClauses --> ClauseRepo\n\nClauseRepo --> IdentifyRequirements\nComplianceRepo --> GapAnalysis\nIdentifyRequirements --> GapAnalysis\nGapAnalysis --> ImpactAssessment\n\nImpactAssessment --> Dashboards\nImpactAssessment --> Reports\nDashboards --> User\nReports --> User",
    "diagram_id": "diagram-1763309780327-t2rqg8yje"
  },
  {
    "action_id": "470b5efa-1036-412e-8ae5-f1b7efb411ca",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-16T16:18:53.105Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "sequence diagram of the top 3 usecases that you serve with this software :\n\nI am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceApp\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant Analyzer\nparticipant ImpactEngine\n\nUser->>ComplianceApp: requestLatestCirculars()\nactivate ComplianceApp\nComplianceApp->>SEBISource: fetchCirculars()\nactivate SEBISource\nSEBISource-->>ComplianceApp: circularDocuments\ndeactivate SEBISource\nComplianceApp->>Parser: parse(circularDocuments)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceApp-->>User: circularsInClauseForm\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: identifyNewRequirements()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceApp: latestClauses\nComplianceApp->>Analyzer: detectNewRequirements(latestClauses)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: newRequirements\ndeactivate Analyzer\nComplianceApp-->>User: newRequirementsReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: runGapAnalysis()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getApplicableClauses()\nClauseDB-->>ComplianceApp: applicableClauses\nComplianceApp->>Analyzer: compareWithExistingControls(applicableClauses, currentControls)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: gapsAndOverlaps\ndeactivate Analyzer\nComplianceApp-->>User: gapAnalysisReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: assessImpact()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getNewAndChangedClauses()\nClauseDB-->>ComplianceApp: impactClauses\nComplianceApp->>ImpactEngine: evaluateImpact(impactClauses, itAssets, processes)\nactivate ImpactEngine\nImpactEngine-->>ComplianceApp: impactFindings(IT, Operations)\ndeactivate ImpactEngine\nComplianceApp-->>User: impactAssessmentReport\ndeactivate ComplianceApp",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "fb5ee7cb-dd7d-4919-8364-5e0719c3fa9b",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:18:53.715Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceApp\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant Analyzer\nparticipant ImpactEngine\n\nUser->>ComplianceApp: requestLatestCirculars()\nactivate ComplianceApp\nComplianceApp->>SEBISource: fetchCirculars()\nactivate SEBISource\nSEBISource-->>ComplianceApp: circularDocuments\ndeactivate SEBISource\nComplianceApp->>Parser: parse(circularDocuments)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceApp-->>User: circularsInClauseForm\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: identifyNewRequirements()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceApp: latestClauses\nComplianceApp->>Analyzer: detectNewRequirements(latestClauses)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: newRequirements\ndeactivate Analyzer\nComplianceApp-->>User: newRequirementsReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: runGapAnalysis()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getApplicableClauses()\nClauseDB-->>ComplianceApp: applicableClauses\nComplianceApp->>Analyzer: compareWithExistingControls(applicableClauses, currentControls)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: gapsAndOverlaps\ndeactivate Analyzer\nComplianceApp-->>User: gapAnalysisReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: assessImpact()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getNewAndChangedClauses()\nClauseDB-->>ComplianceApp: impactClauses\nComplianceApp->>ImpactEngine: evaluateImpact(impactClauses, itAssets, processes)\nactivate ImpactEngine\nImpactEngine-->>ComplianceApp: impactFindings(IT, Operations)\ndeactivate ImpactEngine\nComplianceApp-->>User: impactAssessmentReport\ndeactivate ComplianceApp",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "68972ddb-7773-43d5-b5f6-2b90f2e50e08",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:18:57.909Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant ComplianceApp\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant Analyzer\nparticipant ImpactEngine\n\nUser->>ComplianceApp: requestLatestCirculars()\nactivate ComplianceApp\nComplianceApp->>SEBISource: fetchCirculars()\nactivate SEBISource\nSEBISource-->>ComplianceApp: circularDocuments\ndeactivate SEBISource\nComplianceApp->>Parser: parse(circularDocuments)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceApp-->>User: circularsInClauseForm\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: identifyNewRequirements()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceApp: latestClauses\nComplianceApp->>Analyzer: detectNewRequirements(latestClauses)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: newRequirements\ndeactivate Analyzer\nComplianceApp-->>User: newRequirementsReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: runGapAnalysis()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getApplicableClauses()\nClauseDB-->>ComplianceApp: applicableClauses\nComplianceApp->>Analyzer: compareWithExistingControls(applicableClauses, currentControls)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: gapsAndOverlaps\ndeactivate Analyzer\nComplianceApp-->>User: gapAnalysisReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: assessImpact()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getNewAndChangedClauses()\nClauseDB-->>ComplianceApp: impactClauses\nComplianceApp->>ImpactEngine: evaluateImpact(impactClauses, itAssets, processes)\nactivate ImpactEngine\nImpactEngine-->>ComplianceApp: impactFindings(IT, Operations)\ndeactivate ImpactEngine\nComplianceApp-->>User: impactAssessmentReport\ndeactivate ComplianceApp",
      "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant Analyzer\nparticipant ImpactEngine\nparticipant Repository\n\nUser->>ComplianceTool: configureSources(SEBI endpoints)\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circulars(raw PDFs/HTML)\nComplianceTool->>Parser: parseCirculars(circulars)\nactivate Parser\nParser-->>ComplianceTool: clausesTable\ndeactivate Parser\nComplianceTool->>Repository: storeCircularsAndClauses(circulars, clausesTable)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: notify(\"New circulars ingested and parsed\")\n\nUser->>ComplianceTool: identifyNewRequirements(circularId)\nComplianceTool->>Repository: getClauses(circularId)\nRepository-->>ComplianceTool: clausesTable\nComplianceTool->>Analyzer: extractRequirements(clausesTable)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: requirementsList\ndeactivate Analyzer\nComplianceTool->>Repository: storeRequirements(circularId, requirementsList)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showRequirements(requirementsList)\n\nUser->>ComplianceTool: runGapAnalysis(circularId)\nComplianceTool->>Repository: getRequirements(circularId)\nRepository-->>ComplianceTool: requirementsList\nComplianceTool->>Repository: getExistingControls()\nRepository-->>ComplianceTool: controlsCatalog\nComplianceTool->>Analyzer: compare(requirementsList, controlsCatalog)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: gapReport\ndeactivate Analyzer\nComplianceTool->>Repository: storeGapReport(circularId, gapReport)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showGapReport(gapReport)\n\nUser->>ComplianceTool: assessImpact(circularId)\nComplianceTool->>Repository: getGapReport(circularId)\nRepository-->>ComplianceTool: gapReport\nComplianceTool->>Repository: getITAssetsAndProcesses()\nRepository-->>ComplianceTool: itAndOpsInventory\nComplianceTool->>ImpactEngine: computeImpact(gapReport, itAndOpsInventory)\nactivate ImpactEngine\nImpactEngine-->>ComplianceTool: impactAssessment(ITImpact, OpsImpact)\ndeactivate ImpactEngine\nComplianceTool->>Repository: storeImpactAssessment(circularId, impactAssessment)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showImpactAssessment(impactAssessment)",
      "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant Analyzer\nparticipant ImpactEngine\nparticipant Repository\n\nUser->>ComplianceTool: configureSources(SEBI endpoints)\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circulars(raw PDFs/HTML)\nComplianceTool->>Parser: parseCirculars(circulars)\nactivate Parser\nParser-->>ComplianceTool: clausesTable\ndeactivate Parser\nComplianceTool->>Repository: storeCircularsAndClauses(circulars, clausesTable)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: notify(\"New circulars ingested and parsed\")\n\nUser->>ComplianceTool: identifyNewRequirements(circularId)\nComplianceTool->>Repository: getClauses(circularId)\nRepository-->>ComplianceTool: clausesTable\nComplianceTool->>Analyzer: extractRequirements(clausesTable)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: requirementsList\ndeactivate Analyzer\nComplianceTool->>Repository: storeRequirements(circularId, requirementsList)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showRequirements(requirementsList)\n\nUser->>ComplianceTool: runGapAnalysis(circularId)\nComplianceTool->>Repository: getRequirements(circularId)\nRepository-->>ComplianceTool: requirementsList\nComplianceTool->>Repository: getExistingControls()\nRepository-->>ComplianceTool: controlsCatalog\nComplianceTool->>Analyzer: compare(requirementsList, controlsCatalog)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: gapReport\ndeactivate Analyzer\nComplianceTool->>Repository: storeGapReport(circularId, gapReport)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showGapReport(gapReport)\n\nUser->>ComplianceTool: assessImpact(circularId)\nComplianceTool->>Repository: getGapReport(circularId)\nRepository-->>ComplianceTool: gapReport\nComplianceTool->>Repository: getITAssetsAndProcesses()\nRepository-->>ComplianceTool: itAndOpsInventory\nComplianceTool->>ImpactEngine: computeImpact(gapReport, itAndOpsInventory)\nactivate ImpactEngine\nImpactEngine-->>ComplianceTool: impactAssessment(ITImpact, OpsImpact)\ndeactivate ImpactEngine\nComplianceTool->>Repository: storeImpactAssessment(circularId, impactAssessment)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showImpactAssessment(impactAssessment)",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "9492b5f3-f1de-4971-9733-58fb4131ef30",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:18:58.448Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant ComplianceApp\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant Analyzer\nparticipant ImpactEngine\n\nUser->>ComplianceApp: requestLatestCirculars()\nactivate ComplianceApp\nComplianceApp->>SEBISource: fetchCirculars()\nactivate SEBISource\nSEBISource-->>ComplianceApp: circularDocuments\ndeactivate SEBISource\nComplianceApp->>Parser: parse(circularDocuments)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceApp-->>User: circularsInClauseForm\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: identifyNewRequirements()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceApp: latestClauses\nComplianceApp->>Analyzer: detectNewRequirements(latestClauses)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: newRequirements\ndeactivate Analyzer\nComplianceApp-->>User: newRequirementsReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: runGapAnalysis()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getApplicableClauses()\nClauseDB-->>ComplianceApp: applicableClauses\nComplianceApp->>Analyzer: compareWithExistingControls(applicableClauses, currentControls)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: gapsAndOverlaps\ndeactivate Analyzer\nComplianceApp-->>User: gapAnalysisReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: assessImpact()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getNewAndChangedClauses()\nClauseDB-->>ComplianceApp: impactClauses\nComplianceApp->>ImpactEngine: evaluateImpact(impactClauses, itAssets, processes)\nactivate ImpactEngine\nImpactEngine-->>ComplianceApp: impactFindings(IT, Operations)\ndeactivate ImpactEngine\nComplianceApp-->>User: impactAssessmentReport\ndeactivate ComplianceApp",
      "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant Analyzer\nparticipant ImpactEngine\nparticipant Repository\n\nUser->>ComplianceTool: configureSources(SEBI endpoints)\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circulars(raw PDFs/HTML)\nComplianceTool->>Parser: parseCirculars(circulars)\nactivate Parser\nParser-->>ComplianceTool: clausesTable\ndeactivate Parser\nComplianceTool->>Repository: storeCircularsAndClauses(circulars, clausesTable)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: notify(\"New circulars ingested and parsed\")\n\nUser->>ComplianceTool: identifyNewRequirements(circularId)\nComplianceTool->>Repository: getClauses(circularId)\nRepository-->>ComplianceTool: clausesTable\nComplianceTool->>Analyzer: extractRequirements(clausesTable)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: requirementsList\ndeactivate Analyzer\nComplianceTool->>Repository: storeRequirements(circularId, requirementsList)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showRequirements(requirementsList)\n\nUser->>ComplianceTool: runGapAnalysis(circularId)\nComplianceTool->>Repository: getRequirements(circularId)\nRepository-->>ComplianceTool: requirementsList\nComplianceTool->>Repository: getExistingControls()\nRepository-->>ComplianceTool: controlsCatalog\nComplianceTool->>Analyzer: compare(requirementsList, controlsCatalog)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: gapReport\ndeactivate Analyzer\nComplianceTool->>Repository: storeGapReport(circularId, gapReport)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showGapReport(gapReport)\n\nUser->>ComplianceTool: assessImpact(circularId)\nComplianceTool->>Repository: getGapReport(circularId)\nRepository-->>ComplianceTool: gapReport\nComplianceTool->>Repository: getITAssetsAndProcesses()\nRepository-->>ComplianceTool: itAndOpsInventory\nComplianceTool->>ImpactEngine: computeImpact(gapReport, itAndOpsInventory)\nactivate ImpactEngine\nImpactEngine-->>ComplianceTool: impactAssessment(ITImpact, OpsImpact)\ndeactivate ImpactEngine\nComplianceTool->>Repository: storeImpactAssessment(circularId, impactAssessment)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showImpactAssessment(impactAssessment)",
      "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "c9ffb348-079f-4960-a5cf-100360941b2b",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:18:59.765Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "403f59a2-50fd-4b80-ae43-433ed32ccf1e",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:19:00.100Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "6204b10b-b9b3-4ef3-bd55-9471b81b88b6",
    "action_type": "variation_selection",
    "timestamp": "2025-11-16T16:19:08.884Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant ComplianceApp\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant Analyzer\nparticipant ImpactEngine\n\nUser->>ComplianceApp: requestLatestCirculars()\nactivate ComplianceApp\nComplianceApp->>SEBISource: fetchCirculars()\nactivate SEBISource\nSEBISource-->>ComplianceApp: circularDocuments\ndeactivate SEBISource\nComplianceApp->>Parser: parse(circularDocuments)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceApp-->>User: circularsInClauseForm\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: identifyNewRequirements()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceApp: latestClauses\nComplianceApp->>Analyzer: detectNewRequirements(latestClauses)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: newRequirements\ndeactivate Analyzer\nComplianceApp-->>User: newRequirementsReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: runGapAnalysis()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getApplicableClauses()\nClauseDB-->>ComplianceApp: applicableClauses\nComplianceApp->>Analyzer: compareWithExistingControls(applicableClauses, currentControls)\nactivate Analyzer\nAnalyzer-->>ComplianceApp: gapsAndOverlaps\ndeactivate Analyzer\nComplianceApp-->>User: gapAnalysisReport\ndeactivate ComplianceApp\n\nUser->>ComplianceApp: assessImpact()\nactivate ComplianceApp\nComplianceApp->>ClauseDB: getNewAndChangedClauses()\nClauseDB-->>ComplianceApp: impactClauses\nComplianceApp->>ImpactEngine: evaluateImpact(impactClauses, itAssets, processes)\nactivate ImpactEngine\nImpactEngine-->>ComplianceApp: impactFindings(IT, Operations)\ndeactivate ImpactEngine\nComplianceApp-->>User: impactAssessmentReport\ndeactivate ComplianceApp",
      "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant Analyzer\nparticipant ImpactEngine\nparticipant Repository\n\nUser->>ComplianceTool: configureSources(SEBI endpoints)\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circulars(raw PDFs/HTML)\nComplianceTool->>Parser: parseCirculars(circulars)\nactivate Parser\nParser-->>ComplianceTool: clausesTable\ndeactivate Parser\nComplianceTool->>Repository: storeCircularsAndClauses(circulars, clausesTable)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: notify(\"New circulars ingested and parsed\")\n\nUser->>ComplianceTool: identifyNewRequirements(circularId)\nComplianceTool->>Repository: getClauses(circularId)\nRepository-->>ComplianceTool: clausesTable\nComplianceTool->>Analyzer: extractRequirements(clausesTable)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: requirementsList\ndeactivate Analyzer\nComplianceTool->>Repository: storeRequirements(circularId, requirementsList)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showRequirements(requirementsList)\n\nUser->>ComplianceTool: runGapAnalysis(circularId)\nComplianceTool->>Repository: getRequirements(circularId)\nRepository-->>ComplianceTool: requirementsList\nComplianceTool->>Repository: getExistingControls()\nRepository-->>ComplianceTool: controlsCatalog\nComplianceTool->>Analyzer: compare(requirementsList, controlsCatalog)\nactivate Analyzer\nAnalyzer-->>ComplianceTool: gapReport\ndeactivate Analyzer\nComplianceTool->>Repository: storeGapReport(circularId, gapReport)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showGapReport(gapReport)\n\nUser->>ComplianceTool: assessImpact(circularId)\nComplianceTool->>Repository: getGapReport(circularId)\nRepository-->>ComplianceTool: gapReport\nComplianceTool->>Repository: getITAssetsAndProcesses()\nRepository-->>ComplianceTool: itAndOpsInventory\nComplianceTool->>ImpactEngine: computeImpact(gapReport, itAndOpsInventory)\nactivate ImpactEngine\nImpactEngine-->>ComplianceTool: impactAssessment(ITImpact, OpsImpact)\ndeactivate ImpactEngine\nComplianceTool->>Repository: storeImpactAssessment(circularId, impactAssessment)\nRepository-->>ComplianceTool: ack\nComplianceTool-->>User: showImpactAssessment(impactAssessment)",
      "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "a9733a1c-d8b2-4c5c-9663-88a9a86335df",
    "action_type": "mermaid_copy",
    "timestamp": "2025-11-16T16:19:09.520Z",
    "metadata": {},
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "6de7fa93-1264-4751-a6f1-39c2e269df00",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:19:10.524Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "1f000fae-2965-47c1-8c6b-45676ad41b75",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:20:37.179Z",
    "metadata": {},
    "prompt": "\nI am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "previous_prompt": "sequence diagram of the top 3 usecases that you serve with this software :\n\nI am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "681c3a9f-93d8-4ca1-a2af-fd8903528be2",
    "action_type": "diagram_edited",
    "timestamp": "2025-11-16T16:20:44.290Z",
    "metadata": {
      "had_previous_diagram": true
    },
    "prompt": "I am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "4ae2f6ff-b235-428d-9a71-b260ee38b8a7",
    "action_type": "diagram_edited",
    "timestamp": "2025-11-16T16:20:55.271Z",
    "metadata": {
      "had_previous_diagram": true
    },
    "prompt": "I am working on a compliance monitoring solution which will pull in the latest circulars from SEBI and parse them. Once it is parsed into a table to clauses, you will need to extract the following information:\n1. The new compliance requirements proposed by the regulator\n2. Gap analysis with my existing compliance setup\n3. The impact of these new compliance requirements on my organization at an IT and operational level",
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "2e822df2-a794-4b1c-b70c-08c3a1a0a285",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:20:56.440Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "d91177bd-600f-45b9-a056-83a442a443ea",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:21:04.472Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "df146554-f2e7-4145-9a57-6bd895dd60b5",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:21:06.681Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "6e55944c-a872-423b-a155-c8f9efa6df85",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:21:10.233Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "d546ca00-44ce-4f6b-b2dd-a61cc684588f",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:21:54.476Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "f9853e20-abec-494e-911b-ebadbcc00b0b",
    "action_type": "new_button",
    "timestamp": "2025-11-16T16:23:16.544Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant ComplianceTool\nparticipant SEBISource\nparticipant Parser\nparticipant ClauseDB\nparticipant GapEngine\nparticipant ControlDB\nparticipant ImpactEngine\nparticipant ITOwner\nparticipant OpsOwner\n\nUser->>ComplianceTool: scheduleCircularIngestion()\nComplianceTool->>SEBISource: fetchLatestCirculars()\nSEBISource-->>ComplianceTool: circularFiles\nComplianceTool->>Parser: parse(circularFiles)\nactivate Parser\nParser->>ClauseDB: upsertClauses(parsedClauses)\nClauseDB-->>Parser: ack\ndeactivate Parser\nComplianceTool-->>User: ingestionAndParsingComplete()\n\nUser->>ComplianceTool: identifyNewRequirements()\nComplianceTool->>ClauseDB: getLatestClauses()\nClauseDB-->>ComplianceTool: clauses\nComplianceTool->>ComplianceTool: detectNewOrChangedRequirements()\nComplianceTool-->>User: listOfNewRequirements\n\nUser->>ComplianceTool: runGapAnalysis()\nComplianceTool->>ClauseDB: getActiveRequirements()\nClauseDB-->>ComplianceTool: requirements\nComplianceTool->>ControlDB: getExistingControls()\nControlDB-->>ComplianceTool: controls\nComplianceTool->>GapEngine: analyzeGaps(requirements, controls)\nactivate GapEngine\nGapEngine-->>ComplianceTool: gapReport\ndeactivate GapEngine\nComplianceTool-->>User: gapAnalysisReport\n\nUser->>ComplianceTool: assessImpact()\nComplianceTool->>ClauseDB: getImpactedRequirements()\nClauseDB-->>ComplianceTool: impactedRequirements\nComplianceTool->>ImpactEngine: computeImpact(impactedRequirements)\nactivate ImpactEngine\nImpactEngine->>ITOwner: requestSystemMapping()\nITOwner-->>ImpactEngine: systemImpactDetails\nImpactEngine->>OpsOwner: requestProcessMapping()\nOpsOwner-->>ImpactEngine: processImpactDetails\nImpactEngine-->>ComplianceTool: consolidatedImpactReport\ndeactivate ImpactEngine\nComplianceTool-->>User: ITAndOperationalImpactReport\nnote for ComplianceTool \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization, providing end-to-end compliance monitoring on latest SEBI circulars.\"\nnote for ClauseDB \"Stores parsed SEBI circular clauses as structured records for downstream analysis.\"\nnote for GapEngine \"Identifies gaps between new/updated regulatory requirements and the organization's existing compliance controls.\"\nnote for ImpactEngine \"Assesses the IT and operational impact of new or changed compliance requirements on the organization.\"",
    "diagram_id": "diagram-1763309909440-4qnqek736"
  },
  {
    "action_id": "b2e6f864-78ad-487b-a6dd-26a2ee4ec658",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:31:17.519Z",
    "metadata": {},
    "prompt": "component diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update ,new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \ndiagram\n\n\nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions",
    "previous_prompt": "component diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update ,new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \n",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "6360cff6-6b40-4e28-ba5a-692742c144ee",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:31:21.806Z",
    "metadata": {},
    "prompt": "component diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update ,new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \n\nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions",
    "previous_prompt": "component diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update ,new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \ndiagram\n\n\nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "8559ab2e-42d3-4f52-a355-86768d9fa85a",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-16T16:32:50.736Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "component diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update, new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions\n\n\nwhich will perform those actions setting into the backend\n\nthe backend should be a block consisting of the first 4 points i mentioned \n",
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "fce5aaef-9de1-4ebf-b467-0317e422c70d",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:32:56.293Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FEUI[Diagram Editor UI]\n  FEState[Local State Manager]\nend\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service]\n    DGAPI[Generate Diagram API]\n    DEAPI[Edit Diagram API]\n    VariationEngine[Variation Generation Engine]\n    VariationStrategyA[Heuristic Strategy]\n    VariationStrategyB[LLM Strategy]\n    VariationStrategyC[Hybrid Strategy]\n    EditEngine[Edit Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n    EditJSONBuilder[Edit JSON Builder]\n  end\n  subgraph RLService[RL Service]\n    RLActionAPI[RL Action API]\n    RLGetActionsAPI[Get RL Actions API]\n    RLProcessor[RL Processor]\n    RewardEngine[Reward Engine]\n    ActionStore[Action Store]\n    RatingEngine[Rating Engine]\n    RatingStore[Rating Store]\n  end\n  subgraph ARTService[\"ART Reasoning Trajectory Service\"]\n    ARTBuilder[Trajectory Builder]\n    ARTRewardMapper[Trajectory Reward Mapper]\n    ARTStore[Trajectory Store]\n  end\n  subgraph Storage[Storage Layer]\n    DiagramStore[Diagram Store]\n    UserStore[User Store]\n  end\nend\nUserClient[User Browser] --> FEUI\nFEUI --> FEState\nFEUI --> DGAPI\nFEUI --> DEAPI\nFEUI --> RLActionAPI\nFEUI --> RLGetActionsAPI\nDGAPI --> VariationEngine\nVariationEngine --> VariationStrategyA\nVariationEngine --> VariationStrategyB\nVariationEngine --> VariationStrategyC\nVariationEngine --> DiagramStore\nDGAPI --> DiagramStore\nDEAPI --> EditEngine\nEditEngine --> ClassEditHandler\nEditEngine --> ArrowEditHandler\nEditEngine --> BlockEditHandler\nEditEngine --> EditJSONBuilder\nEditEngine --> DiagramStore\nRLActionAPI --> RLProcessor\nRLProcessor --> ActionStore\nRLProcessor --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RatingStore\nRLGetActionsAPI --> ActionStore\nRLProcessor --> ARTBuilder\nARTBuilder --> ARTRewardMapper\nARTRewardMapper --> ARTStore\nRLProcessor --> DiagramStore\nRLProcessor --> UserStore\nDGAPI --> UserStore\nDEAPI --> UserStore\nnote right of VariationEngine \"Creates 3 diagram variations using multiple generation methods to best demonstrate the agent.\"\nnote right of EditEngine \"Applies JSON-based edits at class, arrow, and block levels to update Mermaid diagrams.\"\nnote right of RLService \"Collects 5-point ratings and feedback, logs user actions (click, pan, zoom, update, new diagram, variation selection/hover) for RL.\"\nnote right of ARTService \"Converts user action streams into reasoning trajectories and precomputed rewards for RL.\""
    ],
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "ce1c49c6-2e55-42a2-b52f-0438d0dd3514",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:32:58.094Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "012c89e6-3e38-476c-87a6-c1d7ee2a1dcd",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:32:58.506Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "351e5866-9362-40aa-b056-4be7f220658d",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:33:08.966Z",
    "metadata": {},
    "variation_index": 0,
    "all_variations": [
      "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FEUI[Diagram Editor UI]\n  FEState[Local State Manager]\nend\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service]\n    DGAPI[Generate Diagram API]\n    DEAPI[Edit Diagram API]\n    VariationEngine[Variation Generation Engine]\n    VariationStrategyA[Heuristic Strategy]\n    VariationStrategyB[LLM Strategy]\n    VariationStrategyC[Hybrid Strategy]\n    EditEngine[Edit Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n    EditJSONBuilder[Edit JSON Builder]\n  end\n  subgraph RLService[RL Service]\n    RLActionAPI[RL Action API]\n    RLGetActionsAPI[Get RL Actions API]\n    RLProcessor[RL Processor]\n    RewardEngine[Reward Engine]\n    ActionStore[Action Store]\n    RatingEngine[Rating Engine]\n    RatingStore[Rating Store]\n  end\n  subgraph ARTService[\"ART Reasoning Trajectory Service\"]\n    ARTBuilder[Trajectory Builder]\n    ARTRewardMapper[Trajectory Reward Mapper]\n    ARTStore[Trajectory Store]\n  end\n  subgraph Storage[Storage Layer]\n    DiagramStore[Diagram Store]\n    UserStore[User Store]\n  end\nend\nUserClient[User Browser] --> FEUI\nFEUI --> FEState\nFEUI --> DGAPI\nFEUI --> DEAPI\nFEUI --> RLActionAPI\nFEUI --> RLGetActionsAPI\nDGAPI --> VariationEngine\nVariationEngine --> VariationStrategyA\nVariationEngine --> VariationStrategyB\nVariationEngine --> VariationStrategyC\nVariationEngine --> DiagramStore\nDGAPI --> DiagramStore\nDEAPI --> EditEngine\nEditEngine --> ClassEditHandler\nEditEngine --> ArrowEditHandler\nEditEngine --> BlockEditHandler\nEditEngine --> EditJSONBuilder\nEditEngine --> DiagramStore\nRLActionAPI --> RLProcessor\nRLProcessor --> ActionStore\nRLProcessor --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RatingStore\nRLGetActionsAPI --> ActionStore\nRLProcessor --> ARTBuilder\nARTBuilder --> ARTRewardMapper\nARTRewardMapper --> ARTStore\nRLProcessor --> DiagramStore\nRLProcessor --> UserStore\nDGAPI --> UserStore\nDEAPI --> UserStore\nnote right of VariationEngine \"Creates 3 diagram variations using multiple generation methods to best demonstrate the agent.\"\nnote right of EditEngine \"Applies JSON-based edits at class, arrow, and block levels to update Mermaid diagrams.\"\nnote right of RLService \"Collects 5-point ratings and feedback, logs user actions (click, pan, zoom, update, new diagram, variation selection/hover) for RL.\"\nnote right of ARTService \"Converts user action streams into reasoning trajectories and precomputed rewards for RL.\""
    ],
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "f2b7fe15-38d2-4826-a0a8-b6164fd2fd9f",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:33:09.257Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FEUI[Diagram Editor UI]\n  FEState[Local State Manager]\nend\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service]\n    DGAPI[Generate Diagram API]\n    DEAPI[Edit Diagram API]\n    VariationEngine[Variation Generation Engine]\n    VariationStrategyA[Heuristic Strategy]\n    VariationStrategyB[LLM Strategy]\n    VariationStrategyC[Hybrid Strategy]\n    EditEngine[Edit Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n    EditJSONBuilder[Edit JSON Builder]\n  end\n  subgraph RLService[RL Service]\n    RLActionAPI[RL Action API]\n    RLGetActionsAPI[Get RL Actions API]\n    RLProcessor[RL Processor]\n    RewardEngine[Reward Engine]\n    ActionStore[Action Store]\n    RatingEngine[Rating Engine]\n    RatingStore[Rating Store]\n  end\n  subgraph ARTService[\"ART Reasoning Trajectory Service\"]\n    ARTBuilder[Trajectory Builder]\n    ARTRewardMapper[Trajectory Reward Mapper]\n    ARTStore[Trajectory Store]\n  end\n  subgraph Storage[Storage Layer]\n    DiagramStore[Diagram Store]\n    UserStore[User Store]\n  end\nend\nUserClient[User Browser] --> FEUI\nFEUI --> FEState\nFEUI --> DGAPI\nFEUI --> DEAPI\nFEUI --> RLActionAPI\nFEUI --> RLGetActionsAPI\nDGAPI --> VariationEngine\nVariationEngine --> VariationStrategyA\nVariationEngine --> VariationStrategyB\nVariationEngine --> VariationStrategyC\nVariationEngine --> DiagramStore\nDGAPI --> DiagramStore\nDEAPI --> EditEngine\nEditEngine --> ClassEditHandler\nEditEngine --> ArrowEditHandler\nEditEngine --> BlockEditHandler\nEditEngine --> EditJSONBuilder\nEditEngine --> DiagramStore\nRLActionAPI --> RLProcessor\nRLProcessor --> ActionStore\nRLProcessor --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RatingStore\nRLGetActionsAPI --> ActionStore\nRLProcessor --> ARTBuilder\nARTBuilder --> ARTRewardMapper\nARTRewardMapper --> ARTStore\nRLProcessor --> DiagramStore\nRLProcessor --> UserStore\nDGAPI --> UserStore\nDEAPI --> UserStore\nnote right of VariationEngine \"Creates 3 diagram variations using multiple generation methods to best demonstrate the agent.\"\nnote right of EditEngine \"Applies JSON-based edits at class, arrow, and block levels to update Mermaid diagrams.\"\nnote right of RLService \"Collects 5-point ratings and feedback, logs user actions (click, pan, zoom, update, new diagram, variation selection/hover) for RL.\"\nnote right of ARTService \"Converts user action streams into reasoning trajectories and precomputed rewards for RL.\""
    ],
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "fbe212aa-8c58-4e82-8c9b-b499e46e5ebb",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:33:09.780Z",
    "metadata": {},
    "variation_index": 0,
    "all_variations": [
      "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FEUI[Diagram Editor UI]\n  FEState[Local State Manager]\nend\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service]\n    DGAPI[Generate Diagram API]\n    DEAPI[Edit Diagram API]\n    VariationEngine[Variation Generation Engine]\n    VariationStrategyA[Heuristic Strategy]\n    VariationStrategyB[LLM Strategy]\n    VariationStrategyC[Hybrid Strategy]\n    EditEngine[Edit Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n    EditJSONBuilder[Edit JSON Builder]\n  end\n  subgraph RLService[RL Service]\n    RLActionAPI[RL Action API]\n    RLGetActionsAPI[Get RL Actions API]\n    RLProcessor[RL Processor]\n    RewardEngine[Reward Engine]\n    ActionStore[Action Store]\n    RatingEngine[Rating Engine]\n    RatingStore[Rating Store]\n  end\n  subgraph ARTService[\"ART Reasoning Trajectory Service\"]\n    ARTBuilder[Trajectory Builder]\n    ARTRewardMapper[Trajectory Reward Mapper]\n    ARTStore[Trajectory Store]\n  end\n  subgraph Storage[Storage Layer]\n    DiagramStore[Diagram Store]\n    UserStore[User Store]\n  end\nend\nUserClient[User Browser] --> FEUI\nFEUI --> FEState\nFEUI --> DGAPI\nFEUI --> DEAPI\nFEUI --> RLActionAPI\nFEUI --> RLGetActionsAPI\nDGAPI --> VariationEngine\nVariationEngine --> VariationStrategyA\nVariationEngine --> VariationStrategyB\nVariationEngine --> VariationStrategyC\nVariationEngine --> DiagramStore\nDGAPI --> DiagramStore\nDEAPI --> EditEngine\nEditEngine --> ClassEditHandler\nEditEngine --> ArrowEditHandler\nEditEngine --> BlockEditHandler\nEditEngine --> EditJSONBuilder\nEditEngine --> DiagramStore\nRLActionAPI --> RLProcessor\nRLProcessor --> ActionStore\nRLProcessor --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RatingStore\nRLGetActionsAPI --> ActionStore\nRLProcessor --> ARTBuilder\nARTBuilder --> ARTRewardMapper\nARTRewardMapper --> ARTStore\nRLProcessor --> DiagramStore\nRLProcessor --> UserStore\nDGAPI --> UserStore\nDEAPI --> UserStore\nnote right of VariationEngine \"Creates 3 diagram variations using multiple generation methods to best demonstrate the agent.\"\nnote right of EditEngine \"Applies JSON-based edits at class, arrow, and block levels to update Mermaid diagrams.\"\nnote right of RLService \"Collects 5-point ratings and feedback, logs user actions (click, pan, zoom, update, new diagram, variation selection/hover) for RL.\"\nnote right of ARTService \"Converts user action streams into reasoning trajectories and precomputed rewards for RL.\""
    ],
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "28f0f3b8-2e07-43b7-b188-f6f771b0ee3c",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:33:10.379Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FEUI[Diagram Editor UI]\n  FEState[Local State Manager]\nend\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service]\n    DGAPI[Generate Diagram API]\n    DEAPI[Edit Diagram API]\n    VariationEngine[Variation Generation Engine]\n    VariationStrategyA[Heuristic Strategy]\n    VariationStrategyB[LLM Strategy]\n    VariationStrategyC[Hybrid Strategy]\n    EditEngine[Edit Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n    EditJSONBuilder[Edit JSON Builder]\n  end\n  subgraph RLService[RL Service]\n    RLActionAPI[RL Action API]\n    RLGetActionsAPI[Get RL Actions API]\n    RLProcessor[RL Processor]\n    RewardEngine[Reward Engine]\n    ActionStore[Action Store]\n    RatingEngine[Rating Engine]\n    RatingStore[Rating Store]\n  end\n  subgraph ARTService[\"ART Reasoning Trajectory Service\"]\n    ARTBuilder[Trajectory Builder]\n    ARTRewardMapper[Trajectory Reward Mapper]\n    ARTStore[Trajectory Store]\n  end\n  subgraph Storage[Storage Layer]\n    DiagramStore[Diagram Store]\n    UserStore[User Store]\n  end\nend\nUserClient[User Browser] --> FEUI\nFEUI --> FEState\nFEUI --> DGAPI\nFEUI --> DEAPI\nFEUI --> RLActionAPI\nFEUI --> RLGetActionsAPI\nDGAPI --> VariationEngine\nVariationEngine --> VariationStrategyA\nVariationEngine --> VariationStrategyB\nVariationEngine --> VariationStrategyC\nVariationEngine --> DiagramStore\nDGAPI --> DiagramStore\nDEAPI --> EditEngine\nEditEngine --> ClassEditHandler\nEditEngine --> ArrowEditHandler\nEditEngine --> BlockEditHandler\nEditEngine --> EditJSONBuilder\nEditEngine --> DiagramStore\nRLActionAPI --> RLProcessor\nRLProcessor --> ActionStore\nRLProcessor --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RatingStore\nRLGetActionsAPI --> ActionStore\nRLProcessor --> ARTBuilder\nARTBuilder --> ARTRewardMapper\nARTRewardMapper --> ARTStore\nRLProcessor --> DiagramStore\nRLProcessor --> UserStore\nDGAPI --> UserStore\nDEAPI --> UserStore\nnote right of VariationEngine \"Creates 3 diagram variations using multiple generation methods to best demonstrate the agent.\"\nnote right of EditEngine \"Applies JSON-based edits at class, arrow, and block levels to update Mermaid diagrams.\"\nnote right of RLService \"Collects 5-point ratings and feedback, logs user actions (click, pan, zoom, update, new diagram, variation selection/hover) for RL.\"\nnote right of ARTService \"Converts user action streams into reasoning trajectories and precomputed rewards for RL.\""
    ],
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "307ee14b-8ef3-46d7-b4ff-46c316015d5c",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:33:11.909Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "5ebc5d76-a464-48d8-b438-9511a6c86b89",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:33:11.963Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "255084d8-b4a9-45f4-9245-fb4acdd85b47",
    "action_type": "variation_selection",
    "timestamp": "2025-11-16T16:33:14.623Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "flowchart TB\nsubgraph Frontend[Frontend <<component>>]\n  FEUI[Diagram Editor UI]\n  FEState[Client State Manager]\n  FETracker[Interaction Tracker]\n  FERouter[API Client / Router]\nend\n\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service <<component>>]\n    DGCore[Diagram Generation Core]\n    DGVarGen[Variation Generator]\n    DGMethodSel[Generation Method Selector]\n    DGValidator[Diagram Validator]\n  end\n\n  subgraph EditService[Edit Service <<component>>]\n    EDCore[Edit Engine]\n    EDJson[JSON Diff & Patch Builder]\n    EDClass[Class-Level Edit Handler]\n    EDArrow[Arrow-Level Edit Handler]\n    EDBlock[Block-Level Edit Handler]\n  end\n\n  subgraph RLService[RL Service <<component>>]\n    RLCollector[Action Collector]\n    RLScorer[Reward Scorer]\n    RLStore[RL Experience Store]\n    RLPolicy[Policy Exporter]\n  end\n\n  subgraph ARTService[\"ART Reasoning Trajectory Plugin <<component>>\"]\n    ARTBuilder[Trajectory Builder]\n    ARTMapper[Action-to-Journey Mapper]\n    ARTReward[Pre-Reward Assigner]\n    ARTExporter[Trajectory Exporter]\n  end\n\n  subgraph APILayer[API Layer <<component>>]\n    EPGen[POST /diagram/generate]\n    EPEdit[POST /diagram/edit]\n    EPRLAction[POST /rl/action]\n    EPRLActions[GET /rl/actions]\n  end\nend\n\nsubgraph DataStores[Data Stores]\n  DSDiagram[Diagram Store]\n  DSRL[RL Action Log]\n  DSTraj[Trajectory Store]\nend\n\nFEUI --> FERouter\nFEState --> FEUI\nFETracker --> FEState\nFETracker --> FERouter\n\nFERouter --> EPGen\nFERouter --> EPEdit\nFERouter --> EPRLAction\nFERouter --> EPRLActions\n\nEPGen --> DGCore\nDGCore --> DGVarGen\nDGCore --> DGMethodSel\nDGCore --> DGValidator\nDGVarGen --> DSDiagram\nDGValidator --> DSDiagram\n\nEPEdit --> EDCore\nEDCore --> EDJson\nEDCore --> EDClass\nEDCore --> EDArrow\nEDCore --> EDBlock\nEDJson --> DSDiagram\nEDClass --> DSDiagram\nEDArrow --> DSDiagram\nEDBlock --> DSDiagram\n\nEPRLAction --> RLCollector\nRLCollector --> RLScorer\nRLCollector --> RLStore\nRLCollector --> ARTBuilder\nRLScorer --> RLStore\nRLStore --> DSRL\nRLPolicy --> RLStore\n\nARTBuilder --> ARTMapper\nARTMapper --> ARTReward\nARTReward --> ARTExporter\nARTExporter --> DSTraj\n\nRLService --> ARTService\nRLService --> APILayer\nDiagramService --> APILayer\nEditService --> APILayer\n\nDSDiagram --> EPRLActions\nDSRL --> EPRLActions\nDSTraj --> EPRLActions",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
      "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FEUI[Diagram Editor UI]\n  FEState[Local State Manager]\nend\nsubgraph Backend[Backend <<container>>]\n  subgraph DiagramService[Diagram Service]\n    DGAPI[Generate Diagram API]\n    DEAPI[Edit Diagram API]\n    VariationEngine[Variation Generation Engine]\n    VariationStrategyA[Heuristic Strategy]\n    VariationStrategyB[LLM Strategy]\n    VariationStrategyC[Hybrid Strategy]\n    EditEngine[Edit Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n    EditJSONBuilder[Edit JSON Builder]\n  end\n  subgraph RLService[RL Service]\n    RLActionAPI[RL Action API]\n    RLGetActionsAPI[Get RL Actions API]\n    RLProcessor[RL Processor]\n    RewardEngine[Reward Engine]\n    ActionStore[Action Store]\n    RatingEngine[Rating Engine]\n    RatingStore[Rating Store]\n  end\n  subgraph ARTService[\"ART Reasoning Trajectory Service\"]\n    ARTBuilder[Trajectory Builder]\n    ARTRewardMapper[Trajectory Reward Mapper]\n    ARTStore[Trajectory Store]\n  end\n  subgraph Storage[Storage Layer]\n    DiagramStore[Diagram Store]\n    UserStore[User Store]\n  end\nend\nUserClient[User Browser] --> FEUI\nFEUI --> FEState\nFEUI --> DGAPI\nFEUI --> DEAPI\nFEUI --> RLActionAPI\nFEUI --> RLGetActionsAPI\nDGAPI --> VariationEngine\nVariationEngine --> VariationStrategyA\nVariationEngine --> VariationStrategyB\nVariationEngine --> VariationStrategyC\nVariationEngine --> DiagramStore\nDGAPI --> DiagramStore\nDEAPI --> EditEngine\nEditEngine --> ClassEditHandler\nEditEngine --> ArrowEditHandler\nEditEngine --> BlockEditHandler\nEditEngine --> EditJSONBuilder\nEditEngine --> DiagramStore\nRLActionAPI --> RLProcessor\nRLProcessor --> ActionStore\nRLProcessor --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RatingStore\nRLGetActionsAPI --> ActionStore\nRLProcessor --> ARTBuilder\nARTBuilder --> ARTRewardMapper\nARTRewardMapper --> ARTStore\nRLProcessor --> DiagramStore\nRLProcessor --> UserStore\nDGAPI --> UserStore\nDEAPI --> UserStore\nnote right of VariationEngine \"Creates 3 diagram variations using multiple generation methods to best demonstrate the agent.\"\nnote right of EditEngine \"Applies JSON-based edits at class, arrow, and block levels to update Mermaid diagrams.\"\nnote right of RLService \"Collects 5-point ratings and feedback, logs user actions (click, pan, zoom, update, new diagram, variation selection/hover) for RL.\"\nnote right of ARTService \"Converts user action streams into reasoning trajectories and precomputed rewards for RL.\""
    ],
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "0cbe93a6-5893-4fab-9a9a-5e7200b72252",
    "action_type": "mermaid_copy",
    "timestamp": "2025-11-16T16:33:16.202Z",
    "metadata": {},
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "e38c7721-6edb-45f9-bc1e-759cccf96ba0",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:33:18.318Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "42a1d55f-1fbb-4adb-86be-b9b40e491e99",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:33:26.774Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "9c30ccc9-cc9c-439d-afde-55cfcc5fb1e8",
    "action_type": "prompt_update",
    "timestamp": "2025-11-16T16:33:51.122Z",
    "metadata": {},
    "prompt": "sdiagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update, new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions\n\n\nwhich will perform those actions setting into the backend\n\nthe backend should be a block consisting of the first 4 points i mentioned \n",
    "previous_prompt": "component diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update, new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions\n\n\nwhich will perform those actions setting into the backend\n\nthe backend should be a block consisting of the first 4 points i mentioned \n",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "c4676536-290d-40db-b9f3-76463a132ad7",
    "action_type": "new_button",
    "timestamp": "2025-11-16T16:33:54.358Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "flowchart TB\nsubgraph Frontend[Frontend <<client>>]\n  FE_UI[Diagram Editor UI]\n  FE_RLTracker[RL Interaction Tracker]\nend\nsubgraph Backend[Backend <<service>>]\n  subgraph DiagramService[Diagram Service]\n    GenController[Generation Controller]\n    EditController[Edit Controller]\n    VariationEngine[Variation Engine]\n    EditDiffEngine[Edit Diff Engine]\n    ClassEditHandler[Class Edit Handler]\n    ArrowEditHandler[Arrow Edit Handler]\n    BlockEditHandler[Block Edit Handler]\n  end\n  subgraph RLService[RL Service]\n    RLController[RL Controller]\n    ActionStore[Action Store]\n    RewardEngine[Reward Engine]\n    RatingEngine[Rating Engine]\n    JourneyBuilder[Diagram Journey Builder]\n    ARTPlugin[ART Reasoning Trajectory Plugin]\n  end\n  subgraph CoreLogic[Core Diagram Logic]\n    PromptParser[Prompt Parser]\n    ArchModel[\"Architecture Model Store\"]\n    VariationRepo[Variation Repository]\n    EditJSONSchema[Edit JSON Schema Validator]\n  end\nend\nsubgraph API[API Gateway / HTTP Layer]\n  EP_Gen[POST /diagram/generate]\n  EP_Edit[POST /diagram/edit]\n  EP_RLAction[POST /rl/action]\n  EP_RLActions[GET /rl/actions]\nend\nsubgraph Storage[Storage Layer]\n  DiagramDB[Diagram & Version DB]\n  RLDB[RL Events & Ratings DB]\nend\nFE_UI --> EP_Gen\nFE_UI --> EP_Edit\nFE_RLTracker --> EP_RLAction\nFE_RLTracker --> EP_RLActions\nEP_Gen --> GenController\nEP_Gen --> VariationEngine\nEP_Gen --> PromptParser\nEP_Edit --> EditController\nEP_Edit --> EditDiffEngine\nEP_Edit --> EditJSONSchema\nEditDiffEngine --> ClassEditHandler\nEditDiffEngine --> ArrowEditHandler\nEditDiffEngine --> BlockEditHandler\nGenController --> ArchModel\nVariationEngine --> ArchModel\nVariationEngine --> VariationRepo\nEditController --> ArchModel\nArchModel --> DiagramDB\nVariationRepo --> DiagramDB\nEP_RLAction --> RLController\nEP_RLActions --> RLController\nRLController --> ActionStore\nActionStore --> RLDB\nActionStore --> JourneyBuilder\nJourneyBuilder --> ARTPlugin\nARTPlugin --> RewardEngine\nRewardEngine --> RatingEngine\nRatingEngine --> RLDB\nRatingEngine --> DiagramDB\nFE_UI --> RatingEngine\nFE_UI --> JourneyBuilder\nFE_UI --> VariationEngine\nFE_UI --> EditDiffEngine",
    "diagram_id": "diagram-1763310196544-ypxcq2tpp"
  },
  {
    "action_id": "dcb02d10-6809-4860-bcac-5548e9b9f239",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-16T16:34:45.373Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "sequence diagram\nI want you to make a UML diagram generation and editing platform where you will get a user prompt defining a system architecture and you will have to perform various actions on it \nactions include \n1. being able to create 3 variations with multiple generation method to create perfect demonstration of the agent \n2. edits : this feature works on the difference to code based method where it generates specific jsons to edit the mermaid diagram and its components \neg:\n\"edits\": [\n    {\n      \"type\": \"add_note\",\n      \"details\": {\n        \"target\": \"ComplianceTool\",\n        \"text\": \"Automates: (1) extraction of new compliance requirements from parsed SEBI circular clauses, (2) gap analysis vs existing controls, and (3) assessment of IT and operational impact for the organization.\",\n        \"position\": \"end\"\n      }\n    }\n  ]\n\n- keep in mind that you need to apply the edits on 3 levels - class, arrow, block\n\n3. create the ability to rate it via a 5 point and feedback based rating system which will go into the RL pipeline collection user actions such as click away, pan, zoom, update, new diagram creation, variation selection, variation hover etc.\n\n4. Add an extra ART - reasoning trajectory plugin that converts these set of user actions into defined diagram journey and reward prebased on the action type\n\n\n5. Frotnend connecting to 4 api endpoints -  \nPOST\n/diagram/generate\nGenerate Diagram\n\n\nPOST\n/diagram/edit\nEdit Diagram\n\nrl\n\n\nPOST\n/rl/action\nRecord Rl Action\n\n\nGET\n/rl/actions\nGet Rl Actions\n\n\nwhich will perform those actions setting into the backend\n\nthe backend should be a block consisting of the first 4 points i mentioned \n",
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant BackendOrchestrator\nparticipant DiagramGenService\nparticipant EditService\nparticipant RatingService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Define system architecture prompt\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: generateDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>DiagramGenService: create 3 variations (multi-method)\nactivate DiagramGenService\nDiagramGenService-->>BackendOrchestrator: variations (Mermaid + metadata)\ndeactivate DiagramGenService\nBackendOrchestrator->>ARTService: init reasoning trajectory (generation)\nactivate ARTService\nARTService-->>BackendOrchestrator: generation trajectory + base reward\ndeactivate ARTService\nBackendOrchestrator->>Storage: save diagram set + trajectory\nBackendOrchestrator-->>DiagramAPI: diagram variations response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: variations (A/B/C) + IDs\ndeactivate DiagramAPI\nFrontend-->>User: Render variations and controls\ndeactivate Frontend\n\nUser->>Frontend: Select variation + request edit\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits JSON)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: editDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>EditService: apply edits (class/arrow/block)\nactivate EditService\nEditService-->>BackendOrchestrator: updated Mermaid + diff\ndeactivate EditService\nBackendOrchestrator->>ARTService: update trajectory (edit event)\nactivate ARTService\nARTService-->>BackendOrchestrator: updated rewards\ndeactivate ARTService\nBackendOrchestrator->>Storage: persist updated diagram + history\nBackendOrchestrator-->>DiagramAPI: edited diagram response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: updated diagram\ndeactivate DiagramAPI\nFrontend-->>User: Show updated diagram\ndeactivate Frontend\n\nUser->>Frontend: Interact (pan, zoom, hover, switch variation, new diagram)\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (actionType, diagramId, context)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordAction(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>ARTService: map actions to journey + reward\nactivate ARTService\nARTService-->>BackendOrchestrator: journey step + reward signal\ndeactivate ARTService\nBackendOrchestrator->>RatingService: update implicit rating (from rewards)\nactivate RatingService\nRatingService-->>BackendOrchestrator: updated rating state\ndeactivate RatingService\nBackendOrchestrator->>Storage: store RL event + reward + rating\nBackendOrchestrator-->>RLAPI: ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: ack\ndeactivate RLAPI\nFrontend-->>User: Smooth interaction (no visible latency)\ndeactivate Frontend\n\nUser->>Frontend: Submit explicit rating (1-5) + feedback\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (rating, feedback)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordRating(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>RatingService: persist explicit rating\nactivate RatingService\nRatingService-->>BackendOrchestrator: rating stored\ndeactivate RatingService\nBackendOrchestrator->>ARTService: incorporate rating into reward model\nactivate ARTService\nARTService-->>BackendOrchestrator: updated reward profile\ndeactivate ARTService\nBackendOrchestrator->>Storage: store rating + updated profile\nBackendOrchestrator-->>RLAPI: rating ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: rating saved\ndeactivate RLAPI\nFrontend-->>User: Show thank-you / updated score\ndeactivate Frontend\n\nFrontend->>RLAPI: GET /rl/actions (for analytics)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: fetchActions(query)\nactivate BackendOrchestrator\nBackendOrchestrator->>Storage: read RL events + rewards\nStorage-->>BackendOrchestrator: RL events dataset\nBackendOrchestrator-->>RLAPI: RL actions + rewards\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: analytics data\ndeactivate RLAPI\nFrontend-->>User: Visualize diagram journeys and performance\ndeactivate Frontend",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "aef8baa4-eea2-4962-afd4-68c38303ca04",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:35:55.969Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant BackendOrchestrator\nparticipant DiagramGenService\nparticipant EditService\nparticipant RatingService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Define system architecture prompt\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: generateDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>DiagramGenService: create 3 variations (multi-method)\nactivate DiagramGenService\nDiagramGenService-->>BackendOrchestrator: variations (Mermaid + metadata)\ndeactivate DiagramGenService\nBackendOrchestrator->>ARTService: init reasoning trajectory (generation)\nactivate ARTService\nARTService-->>BackendOrchestrator: generation trajectory + base reward\ndeactivate ARTService\nBackendOrchestrator->>Storage: save diagram set + trajectory\nBackendOrchestrator-->>DiagramAPI: diagram variations response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: variations (A/B/C) + IDs\ndeactivate DiagramAPI\nFrontend-->>User: Render variations and controls\ndeactivate Frontend\n\nUser->>Frontend: Select variation + request edit\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits JSON)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: editDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>EditService: apply edits (class/arrow/block)\nactivate EditService\nEditService-->>BackendOrchestrator: updated Mermaid + diff\ndeactivate EditService\nBackendOrchestrator->>ARTService: update trajectory (edit event)\nactivate ARTService\nARTService-->>BackendOrchestrator: updated rewards\ndeactivate ARTService\nBackendOrchestrator->>Storage: persist updated diagram + history\nBackendOrchestrator-->>DiagramAPI: edited diagram response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: updated diagram\ndeactivate DiagramAPI\nFrontend-->>User: Show updated diagram\ndeactivate Frontend\n\nUser->>Frontend: Interact (pan, zoom, hover, switch variation, new diagram)\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (actionType, diagramId, context)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordAction(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>ARTService: map actions to journey + reward\nactivate ARTService\nARTService-->>BackendOrchestrator: journey step + reward signal\ndeactivate ARTService\nBackendOrchestrator->>RatingService: update implicit rating (from rewards)\nactivate RatingService\nRatingService-->>BackendOrchestrator: updated rating state\ndeactivate RatingService\nBackendOrchestrator->>Storage: store RL event + reward + rating\nBackendOrchestrator-->>RLAPI: ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: ack\ndeactivate RLAPI\nFrontend-->>User: Smooth interaction (no visible latency)\ndeactivate Frontend\n\nUser->>Frontend: Submit explicit rating (1-5) + feedback\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (rating, feedback)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordRating(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>RatingService: persist explicit rating\nactivate RatingService\nRatingService-->>BackendOrchestrator: rating stored\ndeactivate RatingService\nBackendOrchestrator->>ARTService: incorporate rating into reward model\nactivate ARTService\nARTService-->>BackendOrchestrator: updated reward profile\ndeactivate ARTService\nBackendOrchestrator->>Storage: store rating + updated profile\nBackendOrchestrator-->>RLAPI: rating ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: rating saved\ndeactivate RLAPI\nFrontend-->>User: Show thank-you / updated score\ndeactivate Frontend\n\nFrontend->>RLAPI: GET /rl/actions (for analytics)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: fetchActions(query)\nactivate BackendOrchestrator\nBackendOrchestrator->>Storage: read RL events + rewards\nStorage-->>BackendOrchestrator: RL events dataset\nBackendOrchestrator-->>RLAPI: RL actions + rewards\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: analytics data\ndeactivate RLAPI\nFrontend-->>User: Visualize diagram journeys and performance\ndeactivate Frontend",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "1a11d29e-9f62-456c-a231-c84dca67f9b3",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:35:57.904Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "4bda809f-5f8d-41c7-8f11-6718d3a91467",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:35:57.970Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "122ff01f-9d10-450c-acd1-c8a845deaf6b",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:36:00.975Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant BackendOrchestrator\nparticipant DiagramGenService\nparticipant EditService\nparticipant RatingService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Define system architecture prompt\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: generateDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>DiagramGenService: create 3 variations (multi-method)\nactivate DiagramGenService\nDiagramGenService-->>BackendOrchestrator: variations (Mermaid + metadata)\ndeactivate DiagramGenService\nBackendOrchestrator->>ARTService: init reasoning trajectory (generation)\nactivate ARTService\nARTService-->>BackendOrchestrator: generation trajectory + base reward\ndeactivate ARTService\nBackendOrchestrator->>Storage: save diagram set + trajectory\nBackendOrchestrator-->>DiagramAPI: diagram variations response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: variations (A/B/C) + IDs\ndeactivate DiagramAPI\nFrontend-->>User: Render variations and controls\ndeactivate Frontend\n\nUser->>Frontend: Select variation + request edit\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits JSON)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: editDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>EditService: apply edits (class/arrow/block)\nactivate EditService\nEditService-->>BackendOrchestrator: updated Mermaid + diff\ndeactivate EditService\nBackendOrchestrator->>ARTService: update trajectory (edit event)\nactivate ARTService\nARTService-->>BackendOrchestrator: updated rewards\ndeactivate ARTService\nBackendOrchestrator->>Storage: persist updated diagram + history\nBackendOrchestrator-->>DiagramAPI: edited diagram response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: updated diagram\ndeactivate DiagramAPI\nFrontend-->>User: Show updated diagram\ndeactivate Frontend\n\nUser->>Frontend: Interact (pan, zoom, hover, switch variation, new diagram)\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (actionType, diagramId, context)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordAction(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>ARTService: map actions to journey + reward\nactivate ARTService\nARTService-->>BackendOrchestrator: journey step + reward signal\ndeactivate ARTService\nBackendOrchestrator->>RatingService: update implicit rating (from rewards)\nactivate RatingService\nRatingService-->>BackendOrchestrator: updated rating state\ndeactivate RatingService\nBackendOrchestrator->>Storage: store RL event + reward + rating\nBackendOrchestrator-->>RLAPI: ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: ack\ndeactivate RLAPI\nFrontend-->>User: Smooth interaction (no visible latency)\ndeactivate Frontend\n\nUser->>Frontend: Submit explicit rating (1-5) + feedback\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (rating, feedback)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordRating(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>RatingService: persist explicit rating\nactivate RatingService\nRatingService-->>BackendOrchestrator: rating stored\ndeactivate RatingService\nBackendOrchestrator->>ARTService: incorporate rating into reward model\nactivate ARTService\nARTService-->>BackendOrchestrator: updated reward profile\ndeactivate ARTService\nBackendOrchestrator->>Storage: store rating + updated profile\nBackendOrchestrator-->>RLAPI: rating ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: rating saved\ndeactivate RLAPI\nFrontend-->>User: Show thank-you / updated score\ndeactivate Frontend\n\nFrontend->>RLAPI: GET /rl/actions (for analytics)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: fetchActions(query)\nactivate BackendOrchestrator\nBackendOrchestrator->>Storage: read RL events + rewards\nStorage-->>BackendOrchestrator: RL events dataset\nBackendOrchestrator-->>RLAPI: RL actions + rewards\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: analytics data\ndeactivate RLAPI\nFrontend-->>User: Visualize diagram journeys and performance\ndeactivate Frontend",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "84cf0402-aeab-4d79-ba15-da78faefcbb3",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:36:03.295Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "1bfae984-1c99-423c-844c-778a088345f3",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:36:03.392Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "1e2ef0f9-9664-4ba7-8bc5-1b9d9fae22a8",
    "action_type": "variation_hover",
    "timestamp": "2025-11-16T16:36:15.000Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant BackendOrchestrator\nparticipant DiagramGenService\nparticipant EditService\nparticipant RatingService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Define system architecture prompt\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: generateDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>DiagramGenService: create 3 variations (multi-method)\nactivate DiagramGenService\nDiagramGenService-->>BackendOrchestrator: variations (Mermaid + metadata)\ndeactivate DiagramGenService\nBackendOrchestrator->>ARTService: init reasoning trajectory (generation)\nactivate ARTService\nARTService-->>BackendOrchestrator: generation trajectory + base reward\ndeactivate ARTService\nBackendOrchestrator->>Storage: save diagram set + trajectory\nBackendOrchestrator-->>DiagramAPI: diagram variations response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: variations (A/B/C) + IDs\ndeactivate DiagramAPI\nFrontend-->>User: Render variations and controls\ndeactivate Frontend\n\nUser->>Frontend: Select variation + request edit\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits JSON)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: editDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>EditService: apply edits (class/arrow/block)\nactivate EditService\nEditService-->>BackendOrchestrator: updated Mermaid + diff\ndeactivate EditService\nBackendOrchestrator->>ARTService: update trajectory (edit event)\nactivate ARTService\nARTService-->>BackendOrchestrator: updated rewards\ndeactivate ARTService\nBackendOrchestrator->>Storage: persist updated diagram + history\nBackendOrchestrator-->>DiagramAPI: edited diagram response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: updated diagram\ndeactivate DiagramAPI\nFrontend-->>User: Show updated diagram\ndeactivate Frontend\n\nUser->>Frontend: Interact (pan, zoom, hover, switch variation, new diagram)\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (actionType, diagramId, context)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordAction(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>ARTService: map actions to journey + reward\nactivate ARTService\nARTService-->>BackendOrchestrator: journey step + reward signal\ndeactivate ARTService\nBackendOrchestrator->>RatingService: update implicit rating (from rewards)\nactivate RatingService\nRatingService-->>BackendOrchestrator: updated rating state\ndeactivate RatingService\nBackendOrchestrator->>Storage: store RL event + reward + rating\nBackendOrchestrator-->>RLAPI: ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: ack\ndeactivate RLAPI\nFrontend-->>User: Smooth interaction (no visible latency)\ndeactivate Frontend\n\nUser->>Frontend: Submit explicit rating (1-5) + feedback\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (rating, feedback)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordRating(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>RatingService: persist explicit rating\nactivate RatingService\nRatingService-->>BackendOrchestrator: rating stored\ndeactivate RatingService\nBackendOrchestrator->>ARTService: incorporate rating into reward model\nactivate ARTService\nARTService-->>BackendOrchestrator: updated reward profile\ndeactivate ARTService\nBackendOrchestrator->>Storage: store rating + updated profile\nBackendOrchestrator-->>RLAPI: rating ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: rating saved\ndeactivate RLAPI\nFrontend-->>User: Show thank-you / updated score\ndeactivate Frontend\n\nFrontend->>RLAPI: GET /rl/actions (for analytics)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: fetchActions(query)\nactivate BackendOrchestrator\nBackendOrchestrator->>Storage: read RL events + rewards\nStorage-->>BackendOrchestrator: RL events dataset\nBackendOrchestrator-->>RLAPI: RL actions + rewards\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: analytics data\ndeactivate RLAPI\nFrontend-->>User: Visualize diagram journeys and performance\ndeactivate Frontend",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "2d235487-1c97-494c-b634-d9028bd9cbdc",
    "action_type": "pan",
    "timestamp": "2025-11-16T16:36:15.864Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "70418d3c-3287-4e41-b646-e42b01663045",
    "action_type": "zoom",
    "timestamp": "2025-11-16T16:36:15.973Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "a1c4ca76-d05b-4371-85f5-b4125c6ea8dd",
    "action_type": "variation_selection",
    "timestamp": "2025-11-16T16:36:42.639Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant BackendOrchestrator\nparticipant DiagramGenService\nparticipant EditService\nparticipant RatingService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Define system architecture prompt\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: generateDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>DiagramGenService: create 3 variations (multi-method)\nactivate DiagramGenService\nDiagramGenService-->>BackendOrchestrator: variations (Mermaid + metadata)\ndeactivate DiagramGenService\nBackendOrchestrator->>ARTService: init reasoning trajectory (generation)\nactivate ARTService\nARTService-->>BackendOrchestrator: generation trajectory + base reward\ndeactivate ARTService\nBackendOrchestrator->>Storage: save diagram set + trajectory\nBackendOrchestrator-->>DiagramAPI: diagram variations response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: variations (A/B/C) + IDs\ndeactivate DiagramAPI\nFrontend-->>User: Render variations and controls\ndeactivate Frontend\n\nUser->>Frontend: Select variation + request edit\nactivate Frontend\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits JSON)\nactivate DiagramAPI\nDiagramAPI->>BackendOrchestrator: editDiagram(request)\nactivate BackendOrchestrator\nBackendOrchestrator->>EditService: apply edits (class/arrow/block)\nactivate EditService\nEditService-->>BackendOrchestrator: updated Mermaid + diff\ndeactivate EditService\nBackendOrchestrator->>ARTService: update trajectory (edit event)\nactivate ARTService\nARTService-->>BackendOrchestrator: updated rewards\ndeactivate ARTService\nBackendOrchestrator->>Storage: persist updated diagram + history\nBackendOrchestrator-->>DiagramAPI: edited diagram response\ndeactivate BackendOrchestrator\nDiagramAPI-->>Frontend: updated diagram\ndeactivate DiagramAPI\nFrontend-->>User: Show updated diagram\ndeactivate Frontend\n\nUser->>Frontend: Interact (pan, zoom, hover, switch variation, new diagram)\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (actionType, diagramId, context)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordAction(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>ARTService: map actions to journey + reward\nactivate ARTService\nARTService-->>BackendOrchestrator: journey step + reward signal\ndeactivate ARTService\nBackendOrchestrator->>RatingService: update implicit rating (from rewards)\nactivate RatingService\nRatingService-->>BackendOrchestrator: updated rating state\ndeactivate RatingService\nBackendOrchestrator->>Storage: store RL event + reward + rating\nBackendOrchestrator-->>RLAPI: ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: ack\ndeactivate RLAPI\nFrontend-->>User: Smooth interaction (no visible latency)\ndeactivate Frontend\n\nUser->>Frontend: Submit explicit rating (1-5) + feedback\nactivate Frontend\nFrontend->>RLAPI: POST /rl/action (rating, feedback)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: recordRating(event)\nactivate BackendOrchestrator\nBackendOrchestrator->>RatingService: persist explicit rating\nactivate RatingService\nRatingService-->>BackendOrchestrator: rating stored\ndeactivate RatingService\nBackendOrchestrator->>ARTService: incorporate rating into reward model\nactivate ARTService\nARTService-->>BackendOrchestrator: updated reward profile\ndeactivate ARTService\nBackendOrchestrator->>Storage: store rating + updated profile\nBackendOrchestrator-->>RLAPI: rating ack\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: rating saved\ndeactivate RLAPI\nFrontend-->>User: Show thank-you / updated score\ndeactivate Frontend\n\nFrontend->>RLAPI: GET /rl/actions (for analytics)\nactivate RLAPI\nRLAPI->>BackendOrchestrator: fetchActions(query)\nactivate BackendOrchestrator\nBackendOrchestrator->>Storage: read RL events + rewards\nStorage-->>BackendOrchestrator: RL events dataset\nBackendOrchestrator-->>RLAPI: RL actions + rewards\ndeactivate BackendOrchestrator\nRLAPI-->>Frontend: analytics data\ndeactivate RLAPI\nFrontend-->>User: Visualize diagram journeys and performance\ndeactivate Frontend",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
      "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant APIGateway\nparticipant DiagramService\nparticipant EditService\nparticipant RLService\nparticipant ARTService\nparticipant Storage\n\nUser->>Frontend: Open platform UI\nFrontend->>APIGateway: GET /rl/actions (load history)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions list\nAPIGateway-->>Frontend: actions list\nFrontend->>User: Render dashboard and canvas\n\nUser->>Frontend: Submit prompt for architecture\nFrontend->>APIGateway: POST /diagram/generate (prompt, methods, variations)\nAPIGateway->>DiagramService: generateDiagrams(prompt, methods, variations)\nactivate DiagramService\nDiagramService->>DiagramService: parsePrompt()\nDiagramService->>DiagramService: generateVariationSet(3 methods)\nDiagramService->>DiagramService: buildMermaidAndJSON()\nDiagramService->>Storage: saveDiagramSet()\nStorage-->>DiagramService: diagramIds\nDiagramService-->>APIGateway: diagramSet (3 variations + metadata)\ndeactivate DiagramService\nAPIGateway-->>Frontend: diagramSet\nFrontend->>User: Render 3 diagram variations\n\nUser->>Frontend: Hover/select variation\nFrontend->>APIGateway: POST /rl/action (variation_hover/select)\nAPIGateway->>RLService: recordAction(userId, diagramId, type)\nRLService->>ARTService: processActionForTrajectory(action)\nactivate ARTService\nARTService->>ARTService: updateDiagramJourney()\nARTService->>ARTService: updateRewardEstimate()\nARTService-->>RLService: trajectoryUpdate\ndeactivate ARTService\nRLService->>Storage: saveActionAndTrajectory()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>APIGateway: POST /rl/action (pan/zoom/click_away/new_diagram)\nAPIGateway->>RLService: recordAction(...)\nRLService->>ARTService: processActionForTrajectory(action)\nARTService-->>RLService: updatedJourneyAndReward\nRLService->>Storage: saveAction()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nUser->>Frontend: Request edit (class/arrow/block)\nFrontend->>APIGateway: POST /diagram/edit (diagramId, edits[])\nAPIGateway->>EditService: applyEdits(diagramId, edits[])\nactivate EditService\nEditService->>Storage: loadDiagram(diagramId)\nStorage-->>EditService: mermaid + structureJSON\nEditService->>EditService: applyClassEdits()\nEditService->>EditService: applyArrowEdits()\nEditService->>EditService: applyBlockEdits()\nEditService->>EditService: generateEditJSON()\nEditService->>Storage: saveUpdatedDiagram()\nStorage-->>EditService: ok\nEditService-->>APIGateway: updatedDiagram + editJSON\ndeactivate EditService\nAPIGateway-->>Frontend: updatedDiagram + editJSON\nFrontend->>User: Show updated diagram and diff\n\nUser->>Frontend: Rate diagram (1-5) + feedback\nFrontend->>APIGateway: POST /rl/action (rating, feedback)\nAPIGateway->>RLService: recordRating(userId, diagramId, score, feedback)\nRLService->>ARTService: updateRewardFromRating(score)\nARTService-->>RLService: rewardSignal\nRLService->>Storage: saveRatingAndReward()\nStorage-->>RLService: ok\nRLService-->>APIGateway: ok\nAPIGateway-->>Frontend: ack\n\nFrontend->>APIGateway: GET /rl/actions (for analytics)\nAPIGateway->>RLService: fetchActions()\nRLService-->>APIGateway: actions + trajectories + rewards\nAPIGateway-->>Frontend: analytics data\nFrontend->>User: Show journey and RL insights"
    ],
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "fe114e6d-3c5d-446d-9727-6cc08b30542d",
    "action_type": "mermaid_copy",
    "timestamp": "2025-11-16T16:36:43.489Z",
    "metadata": {},
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "fd2c4c1f-df3a-4287-894f-887c9d7d41d8",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:36:43.969Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "97db68d7-83db-47b5-808b-51aebe3f4c72",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T16:58:49.951Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "40169aab-b91c-4614-a252-8ae47fd857e5",
    "action_type": "zoom",
    "timestamp": "2025-11-16T17:03:24.770Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "05808604-a4c4-45f0-a2f5-ab40543d4ecf",
    "action_type": "pan",
    "timestamp": "2025-11-16T17:03:25.290Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "4ca818a5-2429-4cee-84a1-77b13b6de1ad",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T17:03:30.715Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "134ae7c2-0e07-46d2-9b2f-812894672ab6",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T18:55:04.717Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "49290fc1-470f-4e4d-93a7-4728f0a3793c",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T19:20:26.609Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "77ba2217-ccb2-4e72-97b0-08618d6fdcc3",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T19:20:42.542Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "cf72ee07-c51e-41a8-9000-86095b08c170",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T19:25:03.787Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "67415191-eafd-4f44-9533-556995d90aaa",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T19:25:16.366Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "56f78ae2-13b2-4d9d-8d82-2493607849bc",
    "action_type": "tab_away",
    "timestamp": "2025-11-16T19:26:42.146Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "sequenceDiagram\nparticipant User\nparticipant Frontend\nparticipant DiagramAPI\nparticipant RLAPI\nparticipant Backend\nparticipant Generator\nparticipant Editor\nparticipant RLCollector\nparticipant ARTPlugin\nUser->>Frontend: Open platform UI\nFrontend->>DiagramAPI: POST /diagram/generate (prompt, methods, variations)\nactivate DiagramAPI\nDiagramAPI->>Backend: generateDiagram(request)\nactivate Backend\nBackend->>Generator: createVariations(prompt, methods[3+])\nactivate Generator\nGenerator-->>Backend: diagramSet(3 variations)\ndeactivate Generator\nBackend-->>DiagramAPI: response(diagramSet, metadata)\ndeactivate Backend\nDiagramAPI-->>Frontend: render variations\ndeactivate DiagramAPI\nUser->>Frontend: Hover/select variation\nFrontend->>RLAPI: POST /rl/action (variation_hover, context)\nactivate RLAPI\nRLAPI->>Backend: recordAction(action)\nactivate Backend\nBackend->>RLCollector: logAction(action)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(action)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Request edit (JSON edits: class/arrow/block)\nFrontend->>DiagramAPI: POST /diagram/edit (diagramId, edits[])\nactivate DiagramAPI\nDiagramAPI->>Backend: applyEdits(diagramId, edits[])\nactivate Backend\nBackend->>Editor: applyClassEdits(edits.class)\nactivate Editor\nEditor-->>Backend: classEditsApplied\ndeactivate Editor\nBackend->>Editor: applyArrowEdits(edits.arrow)\nactivate Editor\nEditor-->>Backend: arrowEditsApplied\ndeactivate Editor\nBackend->>Editor: applyBlockEdits(edits.block)\nactivate Editor\nEditor-->>Backend: blockEditsApplied\ndeactivate Editor\nBackend-->>DiagramAPI: updatedDiagram\ndeactivate Backend\nDiagramAPI-->>Frontend: render updated diagram\ndeactivate DiagramAPI\nFrontend->>RLAPI: POST /rl/action (edit_applied, details)\nactivate RLAPI\nRLAPI->>Backend: recordAction(edit_applied)\nactivate Backend\nBackend->>RLCollector: logAction(edit_applied)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(edit_applied)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Rate diagram (1-5, feedback)\nFrontend->>RLAPI: POST /rl/action (rating_submitted, score, feedback)\nactivate RLAPI\nRLAPI->>Backend: recordRating(score, feedback)\nactivate Backend\nBackend->>RLCollector: logRating(score, feedback)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(rating)\nactivate ARTPlugin\nARTPlugin-->>Backend: finalReward\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nUser->>Frontend: Pan/zoom/click away/new diagram\nFrontend->>RLAPI: POST /rl/action (ui_event, type)\nactivate RLAPI\nRLAPI->>Backend: recordAction(ui_event)\nactivate Backend\nBackend->>RLCollector: logAction(ui_event)\nactivate RLCollector\nRLCollector-->>Backend: ack\ndeactivate RLCollector\nBackend->>ARTPlugin: updateTrajectory(ui_event)\nactivate ARTPlugin\nARTPlugin-->>Backend: trajectoryUpdate, rewardDelta\ndeactivate ARTPlugin\nBackend-->>RLAPI: ack\ndeactivate Backend\nRLAPI-->>Frontend: ok\ndeactivate RLAPI\nFrontend->>RLAPI: GET /rl/actions (filters)\nactivate RLAPI\nRLAPI->>Backend: fetchActions(filters)\nactivate Backend\nBackend->>RLCollector: queryActions(filters)\nactivate RLCollector\nRLCollector-->>Backend: actions[]\ndeactivate RLCollector\nBackend-->>RLAPI: actions[]\ndeactivate Backend\nRLAPI-->>Frontend: actions[] for analytics\ndeactivate RLAPI",
    "diagram_id": "diagram-1763310834360-bvinrqvfk"
  },
  {
    "action_id": "20c9ba96-fae0-41e5-aacd-c718e2201191",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-18T11:00:16.130Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "Create a class diagram for an e-commerce system with User, Product, Order, and Payment classes",
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Item available for purchase\"\nnote for Order \"Customer order containing one or more products\"\nnote for Payment \"Payment transaction for an order\"",
    "diagram_id": "diagram-1763458835570-dclq5rvvo"
  },
  {
    "action_id": "a1c11113-6464-4c94-be7f-426ed60895b6",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:00:20.607Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Item available for purchase\"\nnote for Order \"Customer order containing one or more products\"\nnote for Payment \"Payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Item available for purchase\"\nnote for Order \"Customer order containing one or more products\"\nnote for Payment \"Payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"many\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"1\" Payment\nPayment ..> User : payer\nPayment ..> Product : reference\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment made for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Item available for purchase\"\nnote for Order \"Customer order containing one or more products\"\nnote for Payment \"Payment transaction for an order\"",
    "diagram_id": "diagram-1763458835570-dclq5rvvo"
  },
  {
    "action_id": "9e3a34d0-3aea-45c6-8aa0-fb036f9de166",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:00:21.991Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Item available for purchase\"\nnote for Order \"Customer order containing one or more products\"\nnote for Payment \"Payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Item available for purchase\"\nnote for Order \"Customer order containing one or more products\"\nnote for Payment \"Payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"many\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"1\" Payment\nPayment ..> User : payer\nPayment ..> Product : reference\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment made for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"many\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"1\" Payment\nPayment ..> User : payer\nPayment ..> Product : reference\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment made for an order\"",
    "diagram_id": "diagram-1763458835570-dclq5rvvo"
  },
  {
    "action_id": "d0483969-b583-412d-bc12-4cb665af3a8f",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:00:31.826Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"many\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"1\" Payment\nPayment ..> User : payer\nPayment ..> Product : reference\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment made for an order\"",
    "diagram_id": "diagram-1763458835570-dclq5rvvo"
  },
  {
    "action_id": "7960bcd0-23d7-4216-811a-3b8e85200387",
    "action_type": "new_button",
    "timestamp": "2025-11-18T11:01:47.520Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"many\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"1\" Payment\nPayment ..> User : payer\nPayment ..> Product : reference\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment made for an order\"",
    "diagram_id": "diagram-1763458835570-dclq5rvvo"
  },
  {
    "action_id": "d03e0222-5330-45e8-9d48-a7d0c84b8f7f",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-18T11:02:34.814Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "Create a class diagram for an e-commerce system with User, Product, Order, and Payment classes",
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "018397ef-f5c5-4091-9c97-1998ac418354",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:38.407Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "b95657b8-4916-448b-8e76-e48eb14c4cee",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:40.965Z",
    "metadata": {},
    "variation_index": 0,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "a4cf46ed-fe48-42bb-8b00-cf186fc6f02b",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:44.045Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "9f471bce-18fc-4e17-809f-7537433cdfb9",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:45.266Z",
    "metadata": {},
    "variation_index": 0,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "223611e7-ce70-4696-b171-5232a10d3ad9",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:45.750Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "1091df79-2724-4097-9d33-9b93238f0932",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:46.094Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "71f2d0fb-6b7f-421c-b9a0-b0d3ae238dd1",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:47.346Z",
    "metadata": {},
    "variation_index": 0,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "46d147ff-0ccc-427f-8520-5d10e8fca6cb",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:47.808Z",
    "metadata": {},
    "variation_index": 1,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "4b925879-ea51-4d29-9f94-a9297bb544b9",
    "action_type": "variation_hover",
    "timestamp": "2025-11-18T11:02:48.112Z",
    "metadata": {},
    "variation_index": 2,
    "all_variations": [
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +paymentDate Date\nPayment : +status String\nPayment : +method String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"*\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents a payment transaction for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\nPayment : +refund() boolean\n\nclass OrderItem\nOrderItem : +id Integer\nOrderItem : +quantity Integer\nOrderItem : +unitPrice Decimal\nOrderItem : +getLineTotal() Decimal\n\nUser \"1\" --> \"many\" Order : places\nOrder \"1\" --> \"*\" OrderItem : contains\nOrderItem \"1\" --> \"1\" Product : refers to\nOrder \"1\" --> \"1\" Payment : paid by\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order made by a user\"\nnote for Payment \"Represents payment details for an order\"",
      "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\""
    ],
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "88b31fb6-bf82-48a8-b003-159abf1e2c0f",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:02:55.137Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "d459b765-a942-4346-9050-4a72565db0fd",
    "action_type": "pan",
    "timestamp": "2025-11-18T11:02:56.809Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "da5e9793-50d0-4d21-9a21-c0726a8c3f46",
    "action_type": "zoom",
    "timestamp": "2025-11-18T11:02:58.241Z",
    "metadata": {
      "enabled": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "85df8bb4-abfa-4087-8312-7c0a132c22a8",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:03:00.418Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "64c6c8b5-e099-4e74-ab18-59a362c4eed3",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:03:03.312Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "ff29100b-1537-4b3b-9ee6-35acb31d2de5",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:22:01.599Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "16fb8793-e3cb-487d-b9be-5d1a77dca494",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:22:23.854Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "64ec3f50-428e-42b5-85e7-610232b1f8d1",
    "action_type": "tab_away",
    "timestamp": "2025-11-18T11:22:25.427Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +passwordHash String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +description String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +timestamp Date\nPayment : +process() boolean\nPayment : +refund() boolean\n\nUser \"1\" --> \"*\" Order : places\nOrder \"*\" --> \"*\" Product : contains\nOrder \"1\" --> \"*\" Payment : has\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase order containing products\"\nnote for Payment \"Represents a payment transaction for an order\"",
    "diagram_id": "diagram-1763463707521-957f2n2eh"
  },
  {
    "action_id": "fc0c3a01-601d-40b9-ac7c-e336d06f4552",
    "action_type": "diagram_generated",
    "timestamp": "2025-11-23T09:29:57.640Z",
    "metadata": {
      "num_variations": 3
    },
    "prompt": "Create a class diagram for an e-commerce system with User, Product, Order, and Payment classes",
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"0..*\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"0..*\" Payment\nPayment \"1\" --> \"1\" Order\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase made by a user\"\nnote for Payment \"Represents a payment attempt for an order\"",
    "diagram_id": "diagram-1763890176771-zfpn37ddy"
  },
  {
    "action_id": "03b61d88-b930-40b2-a1b7-81a48c88b21a",
    "action_type": "tab_away",
    "timestamp": "2025-11-23T09:30:01.041Z",
    "metadata": {
      "had_diagram": true
    },
    "mermaid_code": "classDiagram\ndirection LR\nclass User\nUser : +id Integer\nUser : +name String\nUser : +email String\nUser : +register(name String, email String, password String) boolean\nUser : +login(email String, password String) boolean\n\nclass Product\nProduct : +id Integer\nProduct : +name String\nProduct : +price Decimal\nProduct : +stockQuantity Integer\nProduct : +updateStock(quantity Integer) void\n\nclass Order\nOrder : +id Integer\nOrder : +orderDate Date\nOrder : +status String\nOrder : +totalAmount Decimal\nOrder : +addProduct(product Product, quantity Integer) void\nOrder : +calculateTotal() Decimal\n\nclass Payment\nPayment : +id Integer\nPayment : +amount Decimal\nPayment : +method String\nPayment : +status String\nPayment : +process() boolean\n\nUser \"1\" --> \"0..*\" Order\nOrder \"1\" --> \"*\" Product\nOrder \"1\" --> \"0..*\" Payment\nPayment \"1\" --> \"1\" Order\n\nnote for User \"Represents a customer using the e-commerce system\"\nnote for Product \"Represents an item available for purchase\"\nnote for Order \"Represents a purchase made by a user\"\nnote for Payment \"Represents a payment attempt for an order\"",
    "diagram_id": "diagram-1763890176771-zfpn37ddy"
  },
  {
    "action_id": "bde4d819-603e-4af6-ae96-7060d83f5db8",
    "action_type": "test_action",
    "timestamp": "2025-11-23T09:44:18.288674",
    "metadata": {
      "test": "true"
    }
  }
]